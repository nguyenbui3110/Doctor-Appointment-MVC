@{
    Layout = "_AuthLayout";
    ViewData["Title"] = "Reset Password";
    ViewData["Greeting"] = "Reset Your Password";
}
@model ResetPasswordModel

<form asp-action="ResetPassword" asp-controller="Auth" method="post" class="user">
    <input asp-for="Token" type="hidden">
    <input asp-for="Email" type="hidden">

    <div class="form-group">
        <input asp-for="NewPassword" type="password" class="form-control form-control-user"
               placeholder="Enter New Password">
        <span asp-validation-for="NewPassword" class="text-danger"></span>
    </div>

    <div class="form-group">
        <input asp-for="ConfirmPassword" type="password" class="form-control form-control-user"
               placeholder="Confirm New Password">
        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
    </div>

    <button type="submit" class="btn btn-primary btn-user btn-block">
        Reset Password
    </button>
    <hr>
    <div class="text-center">
        <a class="small" asp-action="Login">Back to Login</a>
    </div>
</form>

@section Scripts {
    @if (ViewData.ModelState.ContainsKey("Error") && ViewData.ModelState["Error"].Errors.Count > 0)
    {
        var errorMessage = ViewData.ModelState["Error"].Errors[0].ErrorMessage;
        <text>
            <script>
                alert("Error: @Html.Raw(System.Text.Encodings.Web.JavaScriptEncoder.Default.Encode(errorMessage))");
            </script>
        </text>
    }
}